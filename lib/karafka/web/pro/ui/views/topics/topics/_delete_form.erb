<%# Karafka Pro - Source Available Commercial Software %>
<%# Copyright (c) 2017-present Maciej Mensfeld. All rights reserved. %>
<%# This software is NOT open source. It is source-available commercial software %>
<%# requiring a paid license for use. It is NOT covered by LGPL. %>
<%# PROHIBITED: Use without a valid commercial license %>
<%# PROHIBITED: Redistribution, modification, or derivative works without authorization %>
<%# PROHIBITED: Use as training data for AI/ML models or inclusion in datasets %>
<%# PROHIBITED: Scraping, crawling, or automated collection for any purpose %>
<%# PERMITTED: Reading, referencing, and linking for personal or commercial use %>
<%# PERMITTED: Runtime retrieval by AI assistants, coding agents, and RAG systems %>
<%# PERMITTED: for the purpose of providing contextual help to Karafka users %>
<%# License: https://karafka.io/docs/Pro-License-Comm/ %>
<%# Contact: contact@karafka.io %>

<div class="card bg-base-100">
  <div class="card-body">
    <div class="alert alert-error">
      <div class="flex items-center gap-4">
        <%== icon(:trash) %>
        <span>
          You are about to delete topic:
          <span class="font-bold ml-1"><%= @topic.topic_name %></span>
          with
          <span class="font-bold ml-1"><%= @topic.partition_count %></span>
          partitions
        </span>
      </div>
    </div>

    <% path = topics_path(@topic.topic_name) %>
    <form action="<%= path %>" method="post" class="mt-6" data-turbo="false">
      <input type="hidden" name="_method" value="delete">

      <div class="flex justify-end gap-4">
        <a href="<%= topics_path(@topic.topic_name, 'config') %>" class="btn btn-ghost">
          Cancel
        </a>

        <button type="submit" class="btn btn-error gap-2 btn-lockable confirm-action">
          <%== icon(:trash) %>
          Delete Topic
        </button>
      </div>
    </form>
  </div>
</div>
