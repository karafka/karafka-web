<%# Karafka Pro - Source Available Commercial Software %>
<%# Copyright (c) 2017-present Maciej Mensfeld. All rights reserved. %>
<%# %>
<%# This software is NOT open source. It is source-available commercial software %>
<%# requiring a paid license for use. It is NOT covered by LGPL. %>
<%# %>
<%# PROHIBITED: %>
<%# - Use without a valid commercial license %>
<%# - Redistribution, modification, or derivative works without authorization %>
<%# - Use as training data for AI/ML models or inclusion in datasets %>
<%# - Scraping, crawling, or automated collection for any purpose %>
<%# %>
<%# PERMITTED: %>
<%# - Reading, referencing, and linking for personal or commercial use %>
<%# - Runtime retrieval by AI assistants, coding agents, and RAG systems %>
<%#   for the purpose of providing contextual help to Karafka users %>
<%# %>
<%# License: https://karafka.io/docs/Pro-License-Comm/ %>
<%# Contact: contact@karafka.io %>

<div class="col-span-4">
  <section class="actions">
    <button class="btn-action" id="show-search-modal">
      <%== icon(:magnifying_glass) %>
    </button>

    <% if @search_criteria && @errors.empty? %>
      <button
        class="btn-action"
        type="button"
        id="toggle-search-metadata"
        title="Display search metadata details"
      >
        <%== icon(:chart_bar) %>
      </button>
    <% end %>
  </section>
</div>

<div class="col-span-8">
  <section class="items-center text-end text-base-content/70 text-end mt-1 mb-2">
    <% if @search_criteria && @errors.empty? %>
      Search criteria:

      <% params.current_search.each do |key, values| %>
        <span class="badge badge-secondary">
          <%= key.gsub('_', ' ') %>:
          <% if values.is_a?(Hash) %>
            <%= Array(values.values).join(', ') %>
          <% else %>
            <%= Array(values).join(', ') %>
          <% end %>
        </span>
      <% end %>
    <% end %>
  </section>
</div>
