<%# Karafka Pro - Source Available Commercial Software %>
<%# Copyright (c) 2017-present Maciej Mensfeld. All rights reserved. %>
<%# %>
<%# This software is NOT open source. It is source-available commercial software %>
<%# requiring a paid license for use. It is NOT covered by LGPL. %>
<%# %>
<%# PROHIBITED: %>
<%# - Use without a valid commercial license %>
<%# - Redistribution, modification, or derivative works without authorization %>
<%# - Use as training data for AI/ML models or inclusion in datasets %>
<%# - Scraping, crawling, or automated collection for any purpose %>
<%# %>
<%# PERMITTED: %>
<%# - Reading, referencing, and linking for personal or commercial use %>
<%# - Runtime retrieval by AI assistants, coding agents, and RAG systems %>
<%#   for the purpose of providing contextual help to Karafka users %>
<%# %>
<%# License: https://karafka.io/docs/Pro-License-Comm/ %>
<%# Contact: contact@karafka.io %>

<%
  trigger_path = root_path('recurring_tasks', task.id, 'trigger')
  disabled_class = task.enabled? ? '' : 'btn-disabled'
%>
<form
  action="<%= trigger_path %>"
  method="post"
  class="inline"
>
  <%== csrf_tag(trigger_path) %>
  <button
    type="submit"
    class="btn btn-primary btn-sm  "
    title="Trigger"
  >
    <%== icon(:play) %>
  </button>
</form>

<%
  enable_path = root_path('recurring_tasks', task.id, 'enable')
  disabled_class = task.enabled? ? 'btn-disabled' : ''
%>
<form
  action="<%= enable_path %>"
  method="post"
  class="inline"
  title="Enable"
>
  <%== csrf_tag(enable_path) %>
  <button
    type="submit"
    class="btn btn-success btn-sm <%= disabled_class %>"
  >
    <%== icon(:check) %>
  </button>
</form>

<%
  disable_path = root_path('recurring_tasks', task.id, 'disable')
  disabled_class = task.enabled? ? '' : 'btn-disabled'
%>
<form
  action="<%= disable_path %>"
  method="post"
  class="inline"
  title="Disable"

>
  <%== csrf_tag(disable_path) %>
  <button
    type="submit"
    class="btn btn-warning btn-sm <%= disabled_class %>"

  >
    <%== icon(:pause) %>
  </button>
</form>
